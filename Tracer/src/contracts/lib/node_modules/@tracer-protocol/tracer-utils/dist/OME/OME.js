"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.getOrders = exports.getMarkets = exports.submitOrder = exports.createMarket = void 0;
var tslib_1 = require("tslib");
var fetch = require("node-fetch");
var omefy = function (market) {
    return market.slice(2);
};
var createMarket = function (market, omeAddress) { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
    return tslib_1.__generator(this, function (_a) {
        return [2, fetch(omeAddress + "/book", { method: "POST", body: JSON.stringify({ market: market }), headers: { 'Content-Type': 'application/json' } })];
    });
}); };
exports.createMarket = createMarket;
var getMarkets = function (omeAddress) { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
    return tslib_1.__generator(this, function (_a) {
        return [2, fetch(omeAddress + "/book", { method: "GET", headers: { 'Content-Type': 'application/json' } })];
    });
}); };
exports.getMarkets = getMarkets;
var getOrders = function (market, omeAddress) { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
    return tslib_1.__generator(this, function (_a) {
        return [2, fetch(omeAddress + "/book/" + omefy(market), { method: "GET", headers: { 'Content-Type': 'application/json' } })];
    });
}); };
exports.getOrders = getOrders;
var submitOrder = function (market, order, omeAddress) { return tslib_1.__awaiter(void 0, void 0, void 0, function () {
    return tslib_1.__generator(this, function (_a) {
        return [2, fetch(omeAddress + "/book/" + omefy(market) + "/order", { method: "POST", body: JSON.stringify(order), headers: { 'Content-Type': 'application/json' } })];
    });
}); };
exports.submitOrder = submitOrder;
//# sourceMappingURL=OME.js.map